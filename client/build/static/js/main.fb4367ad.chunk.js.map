{"version":3,"sources":["context/AuthContext.js","components/Navigation.js","context/ListContext.js","components/ListItem.js","components/List.js","components/ListContentForm.js","pages/Home.js","components/LoginForm.js","pages/Login.js","components/SignupForm.js","pages/Signup.js","components/PrivateRoute.js","App.js","index.js"],"names":["initialState","user","authenticated","token","AuthContext","React","createContext","login","logout","register","getUser","AuthReducer","state","action","type","payload","localStorage","getItem","removeItem","axios","defaults","headers","common","AuthContextProvider","props","useReducer","dispatch","a","post","res","data","setItem","Error","get","Authorization","alert","Provider","value","children","withRouter","useContext","className","href","name","onClick","history","push","exact","to","items","current","ListContext","addItem","getItems","updateItem","setCurrent","clearCurrent","ListReducer","filter","item","_id","temp","map","ListContextProvider","content","todoItem","id","delete","put","updatedItem","console","log","ListItem","List","listContext","useEffect","listItem","ListContentForm","useState","setContent","onSubmit","e","preventDefault","onChange","target","placeholder","required","Home","LoginForm","email","password","formData","setFormData","handleChange","Login","authContext","loginUser","message","SignupForm","password2","signup","Signup","signupUser","PrivateRoute","Component","component","rest","render","App","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.fb4367ad.chunk.js","sourcesContent":["import React, { useReducer } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n\tuser: null,\r\n\tauthenticated: false,\r\n\ttoken: null,\r\n};\r\n\r\nconst AUTHENTICATED = \"AUTHENTICATED\";\r\nconst LOGOUT = \"LOGOUT\";\r\n\r\nconst AuthContext = React.createContext({\r\n\t...initialState,\r\n\tlogin: () => {},\r\n\tlogout: () => {},\r\n\tregister: () => {},\r\n    getUser: () => {}\r\n});\r\n\r\nconst AuthReducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase AUTHENTICATED:\r\n\t\t\treturn {\r\n\t\t\t\tuser: action.payload,\r\n\t\t\t\tauthenticated: true,\r\n\t\t\t\ttoken: localStorage.getItem(\"token\"),\r\n\t\t\t};\r\n\t\tcase LOGOUT:\r\n\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\taxios.defaults.headers.common[\"Authorization\"] = \"\";\r\n\t\t\treturn {\r\n\t\t\t\tuser: null,\r\n\t\t\t\tauthenticated: false,\r\n\t\t\t\ttoken: null,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const AuthContextProvider = (props) => {\r\n\tconst [state, dispatch] = useReducer(AuthReducer, initialState);\r\n\r\n\t// Login user\r\n\tconst login = async (user) => {\r\n\t\ttry {\r\n\t\t\tconst res = await axios.post(\"/api/auth/login\", user);\r\n\r\n\t\t\tconst token = res.data.token;\r\n\r\n\t\t\tlocalStorage.setItem(\"token\", token);\r\n\r\n\t\t\taxios.defaults.headers.common[\"Authorization\"] = token;\r\n\r\n\t\t\tawait getUser(token);\r\n\t\t} catch (err) {\r\n\t\t\tthrow new Error(\"Something went wrong\");\r\n\t\t}\r\n\t};\r\n\r\n\t// Logout user\r\n\tconst logout = () => {\r\n\t\tdispatch({\r\n\t\t\ttype: LOGOUT,\r\n\t\t});\r\n\t};\r\n\r\n\t// Register user\r\n\tconst register = async (user) => {\r\n\t\ttry {\r\n\t\t\tconst res = await axios.post(\"/api/auth/register\", user);\r\n\r\n\t\t\tconst token = res.data.token;\r\n\t\t\tlocalStorage.setItem(\"token\", token);\r\n\r\n\t\t\taxios.defaults.headers.common[\"Authorization\"] = token;\r\n\r\n\t\t\tawait getUser(token);\r\n\t\t} catch (err) {\r\n\t\t\tthrow new Error(\"Something went wrong\");\r\n\t\t}\r\n\t};\r\n\r\n\t// Get logged in user\r\n\tconst getUser = async (token) => {\r\n\t\ttry {\r\n\t\t\tconst res = await axios.get(\"/api/auth/\", {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: token,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: AUTHENTICATED,\r\n\t\t\t\tpayload: res.data.user,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\talert(\"Something went wrong\");\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tuser: state.user,\r\n\t\t\t\tauthenticated: state.authenticated,\r\n\t\t\t\tlogin,\r\n\t\t\t\tlogout,\r\n\t\t\t\tregister,\r\n                getUser\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{props.children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n};\r\n\r\nexport default AuthContext;\r\n","import React, { useContext } from \"react\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport AuthContext from \"../context/AuthContext\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst Navigation = (props) => {\r\n\tconst { user, authenticated, logout } = useContext(AuthContext);\r\n\r\n    const handleLogout = () => {\r\n        logout();\r\n\t\tprops.history.push('/login');\r\n    }\r\n    \r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n\t\t\t\t<a className=\"navbar-brand m-2\" href=\"/\">\r\n\t\t\t\t\tTodo List\r\n\t\t\t\t</a>\r\n\t\t\t\t<ul className=\"navbar-nav position-absolute end-0 m-2\">\r\n\t\t\t\t\t{authenticated ? (\r\n\t\t\t\t\t\t<li className=\"float-right\">\r\n\t\t\t\t\t\t\t<p>{user.name}</p>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-ligt\" onClick={handleLogout}>Logout</button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<NavLink className=\"nav-link\" exact to=\"/login\">\r\n\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<NavLink className=\"nav-link\" exact to=\"/register\">\r\n\t\t\t\t\t\t\t\t\tRegister\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ul>\r\n\t\t\t</nav>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Navigation);\r\n","import React, { useReducer } from 'react'\r\nimport axios from 'axios';\r\n\r\nconst initialState = {\r\n    items: [],\r\n    current: null\r\n};\r\n\r\nconst ADD_ITEM = 'ADD_ITEM';\r\nconst REMOVE_ITEM = 'REMOVE_ITEM';\r\nconst UPDATE_ITEM = 'UPDATE_ITEM';\r\nconst GET_ITEMS = 'GET_ITEMS';\r\nconst SET_CURRENT = 'SET_CURRENT';\r\nconst CLEAR_CURRENT = 'CLEAR_CURRENT';\r\n\r\nconst ListContext = React.createContext({\r\n    ...initialState,\r\n    addItem: () => {},\r\n    removeItem: () => {},\r\n    getItems: () => {},\r\n    updateItem: () => {},\r\n    setCurrent: () => {},\r\n    clearCurrent: () => {}\r\n});\r\n\r\nconst ListReducer = (state, action) => {\r\n    switch(action.type) {\r\n        case ADD_ITEM:\r\n            return {\r\n                ...state,\r\n                items: [action.payload, ...state.items]\r\n            }\r\n        case REMOVE_ITEM:\r\n            return {\r\n                ...state,\r\n                items: state.items.filter(item => item._id !== action.payload)\r\n            }\r\n        case UPDATE_ITEM:\r\n            const temp = state.items.map(item => {\r\n                if (item._id === action.payload._id) {\r\n                    return action.payload\r\n                } else {\r\n                    return item;\r\n                }\r\n            });\r\n            return {\r\n                ...state,\r\n                items: temp\r\n            }\r\n        case GET_ITEMS:\r\n            return {\r\n                ...state,\r\n                items: action.payload\r\n            }\r\n        case SET_CURRENT:\r\n            return {\r\n                ...state,\r\n                current: action.payload\r\n            }\r\n        case CLEAR_CURRENT:\r\n            return {\r\n                ...state,\r\n                current: null\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const ListContextProvider = (props) => {\r\n    const [state, dispatch] = useReducer(ListReducer, initialState);\r\n\r\n    // Add an item\r\n    const addItem = async (content) => {\r\n        try {\r\n            const data = {\r\n                content\r\n            }\r\n\r\n            const res = await axios.post('/api/todo', data);\r\n\r\n            const item = res.data.todoItem;\r\n\r\n            dispatch({\r\n                type: ADD_ITEM,\r\n                payload: item\r\n            });\r\n        } catch (err) {\r\n            alert('Something went wrong');\r\n        }\r\n\r\n    }\r\n\r\n    // Remove an item\r\n    const removeItem = async (id) => {\r\n        try {\r\n            await axios.delete(`/api/todo/${id}`);\r\n\r\n            dispatch({\r\n                type: REMOVE_ITEM,\r\n                payload: id\r\n            })\r\n        } catch (err) {\r\n            alert('Something went wrong');\r\n        }\r\n        \r\n    }\r\n\r\n    // Update item\r\n    const updateItem = async (id, content) => {\r\n        try {\r\n            const data = {\r\n                content\r\n            }\r\n\r\n            const res = await axios.put(`/api/todo/${id}`, data);\r\n\r\n            const item = res.data.updatedItem;\r\n\r\n            dispatch({\r\n                type: UPDATE_ITEM,\r\n                payload: item\r\n            })\r\n\r\n            clearCurrent();\r\n        } catch (err) {\r\n            alert('Something went wrong');\r\n        }\r\n    }\r\n\r\n    // Get logged in user's items\r\n    const getItems = async () => {\r\n        try {\r\n            const res = await axios.get('/api/todo');\r\n\r\n            // console.log(res.data);\r\n            const items = res.data.items;\r\n\r\n            dispatch({\r\n                type: GET_ITEMS,\r\n                payload: items\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n    // Set current item for update\r\n    const setCurrent = (item) => {\r\n        console.log('current', item);\r\n        dispatch({\r\n            type: SET_CURRENT,\r\n            payload: item\r\n        })\r\n    }\r\n\r\n    // Clear current selection\r\n    const clearCurrent = () => {\r\n        dispatch({\r\n            type: CLEAR_CURRENT\r\n        })\r\n    }\r\n\r\n    return (\r\n        <ListContext.Provider value={{\r\n            items: state.items,\r\n            current: state.current,\r\n            addItem,\r\n            removeItem,\r\n            getItems,\r\n            updateItem,\r\n            setCurrent,\r\n            clearCurrent\r\n        }}>\r\n            {props.children}\r\n        </ListContext.Provider>\r\n    )\r\n}\r\n\r\nexport default ListContext\r\n","import React, { useContext } from \"react\";\r\nimport ListContext from \"../context/ListContext\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst ListItem = (props) => {\r\n\tconst { _id, content } = props.item;\r\n\tconst { removeItem, setCurrent } = useContext(ListContext);\r\n\r\n\tconst handleDelete = () => {\r\n\t\tremoveItem(_id);\r\n\t};\r\n\r\n\tconst handleEdit = () => {\r\n\t\tsetCurrent(props.item);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"card m-3\" id={_id}>\r\n\t\t\t<div className=\"card-body d-flex justify-content-between align-items-center\">\r\n\t\t\t\t<p>{content}</p>\r\n\t\t\t\t<div className=\"d-flex justify-content-between\">\r\n\t\t\t\t\t<button className=\"btn btn-warning m-1\" onClick={handleEdit}>\r\n\t\t\t\t\t\tEdit\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button className=\"btn btn-danger m-1\" onClick={handleDelete}>\r\n\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ListItem;\r\n","import React, { useContext, useEffect } from 'react'\r\nimport ListItem from './ListItem'\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nimport ListContext from '../context/ListContext';\r\n\r\nconst List = () => {\r\n    const listContext = useContext(ListContext);\r\n\r\n    console.log(listContext);\r\n\r\n    useEffect(() => {\r\n        listContext.getItems();\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"d-flex flex-column justify-content-center\">\r\n            {listContext.items && listContext.items.map(listItem => (\r\n                <ListItem item={listItem} id={listItem._id}/>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default List\r\n","import React, { useState, useContext, useEffect } from 'react'\r\nimport ListContext from \"../context/ListContext\";\r\n\r\nconst ListContentForm = () => {\r\n    const listContext = useContext(ListContext);\r\n\r\n\tconst [content, setContent] = useState(\"\");\r\n\r\n    const { current } = listContext;\r\n\r\n    useEffect(() => {\r\n        if (current) {\r\n            setContent(current.content);\r\n        }\r\n    }, [current])\r\n    \r\n\tconst handleChange = (e) => {\r\n\t\tsetContent(e.target.value);\r\n\t};\r\n\r\n    const handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n        if (current) {\r\n            listContext.updateItem(\r\n                current._id, \r\n                content\r\n            );\r\n        } else {\r\n            listContext.addItem(content);\r\n        }\r\n\r\n\t\tsetContent(\"\");\r\n\t};\r\n\r\n    return (\r\n        <div>\r\n            <form className=\"m-3\" onSubmit={handleSubmit}>\r\n\t\t\t\t<input\r\n\t\t\t\t\tvalue={content}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tclassName=\"form-control inline m-2\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Enter a todo item\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<button className=\"btn btn-light\">\r\n                    {current ? 'UPDATE' : 'ADD'}\r\n                </button>\r\n\t\t\t</form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListContentForm\r\n","import React from \"react\";\r\n\r\nimport List from \"../components/List\";\r\nimport ListContentForm from \"../components/ListContentForm\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst Home = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<ListContentForm />\r\n\t\t\t<List />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from 'react'\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst LoginForm = (props) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\temail: '',\r\n\t\tpassword: ''\r\n\t})\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetFormData({\r\n\t\t\t...formData,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.login(formData);\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n\t\t\t<div className=\"form-group m-3\">\r\n\t\t\t\t<label>Email</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n                    required\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group m-3\">\r\n\t\t\t\t<label>Password</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n                    required\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<button type=\"submit\" className=\"btn btn-dark\">\r\n\t\t\t\tLogin\r\n\t\t\t</button>\r\n\t\t</form>\r\n    )\r\n}\r\n\r\nexport default LoginForm\r\n","import React, { useContext } from 'react'\r\nimport LoginForm from '../components/LoginForm'\r\nimport AuthContext from '../context/AuthContext';\r\n\r\nconst Login = ({ history }) => {\r\n    const authContext = useContext(AuthContext);\r\n\r\n    const loginUser = async (user) => {\r\n        try {\r\n            await authContext.login(user);\r\n            history.push('/');\r\n        } catch (err) {\r\n            alert(err.message);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <LoginForm login={loginUser} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, { useState } from 'react'\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst SignupForm = (props) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassword2: ''\r\n\t})\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetFormData({\r\n\t\t\t...formData,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t}\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.signup(formData);\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n\t\t\t<div className=\"form-group m-3\">\r\n\t\t\t\t<label>Name</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n                    required\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group m-3\">\r\n\t\t\t\t<label>Email</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n                    required\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group m-3\">\r\n\t\t\t\t<label>Password</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n                    required\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group m-3\">\r\n\t\t\t\t<label>Confirm Password</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"password2\"\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n                    required\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<button type=\"submit\" className=\"btn btn-dark\">\r\n\t\t\t\tSign Up\r\n\t\t\t</button>\r\n\t\t</form>\r\n    )\r\n}\r\n\r\nexport default SignupForm\r\n","import React, { useContext } from 'react'\r\nimport SignupForm from '../components/SignupForm'\r\nimport AuthContext from '../context/AuthContext';\r\n\r\nconst Signup = ({ history }) => {\r\n    const authContext = useContext(AuthContext);\r\n\r\n    const signupUser = async (user) => {\r\n        try {\r\n            await authContext.register(user);\r\n            history.push('/');\r\n        } catch (err) {\r\n            alert(err.message);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <SignupForm signup={signupUser} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup\r\n","import React, { useContext } from 'react'\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nimport AuthContext from '../context/AuthContext';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    const authContext = useContext(AuthContext);\r\n    const { authenticated } = authContext;\r\n    return (\r\n        <Route { ...rest } render={props => !authenticated ? (\r\n            <Redirect to='/login' />\r\n        ) : (\r\n            <Component {...props} />\r\n        )} />\r\n\r\n    )\r\n}\r\n\r\nexport default PrivateRoute\r\n","import React from \"react\";\nimport { Switch, Route } from \"react-router\";\nimport Navigation from \"./components/Navigation\";\n\nimport Home from \"./pages/Home\";\nimport Login from \"./pages/Login\";\nimport Signup from \"./pages/Signup\";\nimport PrivateRoute from \"./components/PrivateRoute\";\n\nimport { AuthContextProvider } from \"./context/AuthContext\";\nimport { ListContextProvider } from \"./context/ListContext\";\n\nimport \"./App.css\";\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<AuthContextProvider>\n\t\t\t\t<ListContextProvider>\n\t\t\t\t\t<Navigation />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<PrivateRoute path=\"/\" exact component={Home} />\n\t\t\t\t\t\t<Route path=\"/login\" exact component={Login} />\n\t\t\t\t\t\t<Route path=\"/register\" exact component={Signup} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</ListContextProvider>\n\t\t\t</AuthContextProvider>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<App />\n\t</BrowserRouter>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}